{"version":3,"sources":["../../src/client/script.js"],"names":["socket","io","connect","on","numPlayers","console","log","startGame","grid","emit","outerHTML","solution","puzzle","guesses","game","fillInGuesses","$","text","document","getElementById","rowStart","n","i","j","currentGrid","innerHTML","style","shuffleSolution","switchRows","a","b","temp","switchCols","switchRowBlocks","switchColBlocks","switchNumbers","x","y","Math","floor","random","ceil","gridNode","firstChild","removeChild","fontWeight","guess","createElement","setAttribute","appendChild","onFocusFunction","id","css","backgroundColor","onBlurFunction","onInputFunction","value","input","val","checkGrid","checkLength","check","currentGuess","g","parseInt","push","className","transparentRed","transparentGreen","transparentGrey","setTimeout","classList","remove","clearGuesses","showingSolution","showSolution","moveFocus","charAt","event","keyCode","testj","testi","focus","checkRow","row","numCount","Array","fill","current","checkColumn","column","checkBox","box","boxStartRow","boxStartCol","checkFinalSolution"],"mappings":"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","file":"script.js","sourcesContent":["\r\nvar socket = io.connect('http://localhost:3000');\r\nsocket.on('new player', function (numPlayers) {\r\n\tif (numPlayers == 1) {\r\n\t\tconsole.log('start new game');\r\n\t\tstartGame();\r\n\t\tconsole.log(grid);\r\n\t\tsocket.emit('new game', {grid: grid.outerHTML, solution, puzzle, guesses});\r\n\t} else {\r\n\t\tsocket.emit('existing game');\r\n\t\tsocket.on('existing game', function (game) {\r\n\t\t\tconsole.log('getting game data');\r\n\t\t\tgrid.outerHTML = game.grid;\r\n\t\t\tsolution = game.solution;\r\n\t\t\tpuzzle = game.puzzle;\r\n\t\t\tguesses = game.guesses;\r\n\t\t\tfillInGuesses(guesses);\r\n\t\t});\r\n\t}\r\n\t$('#numPlayers').text(numPlayers);\r\n//\tsocket.on()\r\n});\r\n\r\nsocket.on('player disconnected', function (numPlayers) {\r\n\t$('#numPlayers').text(numPlayers);\r\n})\r\n\r\n// socket.on('get current game', function () {\r\n// \tsocket.emit('current game', {grid: grid.outerHTML, solution, puzzle, guesses});\r\n// })\r\n\r\nvar grid = document.getElementById(\"grid\");\r\nvar rowStart = 1;\r\nvar n = 1;\r\nvar solution = [[],[],[],[],[],[],[],[],[]];\r\nvar puzzle = [[],[],[],[],[],[],[],[],[]];\r\nvar guesses = [[],[],[],[],[],[],[],[],[]];\r\n\r\nfunction startGame() {\r\n\t// generate grid\r\n\tfor (var i = 0; i < 9; i++) {\r\n\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\tvar currentGrid\t= \"grid\" + i + j;\r\n\t\t\tgrid.innerHTML += '<div id=\"' + currentGrid + '\" class=\"grid-item\" onkeydown=\"moveFocus(this.id)\"></div>';\r\n\t\t\tif ((i == 2 || i == 5) && (j == 2 || j == 5)) {\r\n\t\t\t\tdocument.getElementById(currentGrid).style = \"border-bottom-width: 2px; border-right-width: 2px;\";\r\n\t\t\t} else if (i == 2 || i == 5) {\r\n\t\t\t\tdocument.getElementById(currentGrid).style = \"border-bottom-width: 2px;\";\r\n\t\t\t} else if (j == 2 || j == 5) {\r\n\t\t\t\tdocument.getElementById(currentGrid).style = \"border-right-width: 2px;\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// generate solution\r\n\tfor (var i = 0; i < 9; i++) {\r\n\t\tn = rowStart;\r\n\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\tif (n <= 9) {\r\n\t\t\t\tsolution[i][j] = n;\r\n\t\t\t\tn++;\r\n\t\t\t} else {\r\n\t\t\t\tn = 1;\r\n\t\t\t\tsolution[i][j] = n;\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t}\r\n\t\trowStart += 3;\r\n\t\tif (rowStart > 9) {\r\n\t\t\trowStart = (rowStart % 9) + 1;\r\n\t\t}\r\n\t}\r\n\r\n\tshuffleSolution();\r\n\r\n}\r\n\r\n// document.getElementsByTagName('input').onchange() = function() {\r\n// \tconsole.log('change');\r\n// }\r\n\r\n// shuffle solution\r\nfunction switchRows(a, b) {\r\n\tif (a != b) {\r\n\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\tvar temp = solution[a][j]\r\n\t\t\tsolution[a][j] = solution[b][j];\r\n\t\t\tsolution[b][j] = temp;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction switchCols(a, b) {\r\n\tif (a != b) {\r\n\t\tfor (var i = 0; i < 9; i++) {\r\n\t\t\tvar temp = solution[i][a];\r\n\t\t\tsolution[i][a] = solution[i][b];\r\n\t\t\tsolution[i][b] = temp;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction switchRowBlocks(a, b) {\r\n\tif (a != b) {\r\n\t\tfor (var i = 0; i < 3; i++) {\r\n\t\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\t\tvar temp = solution[3*a+i][j]\r\n\t\t\t\tsolution[3*a+i][j] = solution[3*b+i][j];\r\n\t\t\t\tsolution[3*b+i][j] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction switchColBlocks(a, b) {\r\n\tif (a != b ) {\r\n\t\tfor (var i = 0; i < 9; i++) {\r\n\t\t\tfor (var j = 0; j < 3; j++) {\r\n\t\t\t\tvar temp = solution[i][3*a+j];\r\n\t\t\t\tsolution[i][3*a+j] = solution[i][3*b+j];\r\n\t\t\t\tsolution[i][3*b+j] = temp;\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction switchNumbers(x, y) {\r\n\tif (x != y) {\r\n\t\tfor (var i = 0; i < 9; i++) {\r\n\t\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\t\tif (solution[i][j] == x) {\r\n\t\t\t\t\tsolution[i][j] = y;\r\n\t\t\t\t} else if (solution[i][j] == y) {\r\n\t\t\t\t\tsolution[i][j] = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction shuffleSolution() {\r\n\tpuzzle = [[],[],[],[],[],[],[],[],[]];\r\n\tguesses = [[],[],[],[],[],[],[],[],[]];\r\n\tdo {\r\n\t\tswitchRows(Math.floor(Math.random() * 3), Math.floor(Math.random() * 3));\r\n\t\tconsole.log(\"r\");\r\n\t} while (Math.floor(Math.random() * 3) != 0);\r\n\tdo {\r\n\t\tswitchCols(Math.floor(Math.random() * 3), Math.floor(Math.random() * 3));\r\n\t\tconsole.log(\"c\");\r\n\t} while (Math.floor(Math.random() * 3) != 0);\r\n\tdo {\r\n\t\tswitchRowBlocks(Math.floor(Math.random() * 3), Math.floor(Math.random() * 3));\r\n\t\tconsole.log(\"rb\");\r\n\t} while (Math.floor(Math.random() * 3) != 0);\r\n\tdo {\r\n\t\tswitchColBlocks(Math.floor(Math.random() * 3), Math.floor(Math.random() * 3));\r\n\t\tconsole.log(\"cb\");\r\n\t} while (Math.floor(Math.random() * 3) != 0);\r\n\tdo {\r\n\t\tswitchNumbers(Math.ceil(Math.random() * 9), Math.ceil(Math.random() * 9));\r\n\t\tconsole.log(\"sn\");\r\n\t} while (Math.floor(Math.random() * 4) != 0);\r\n\tfor (var i = 0; i < 9; i++) {\r\n\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\tvar currentGrid = \"grid\" + i + j;\r\n\t\t\tvar gridNode = document.getElementById(currentGrid);\r\n\t\t\tif (gridNode.firstChild) {\r\n\t\t\t\tgridNode.removeChild(gridNode.firstChild);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.getElementById(currentGrid).innerHTML = \"\";\r\n\t\t\t}\r\n\t\t\tvar random = (Math.random() * 10);\r\n\t\t\tif (random < 3) {\r\n\t\t\t\tdocument.getElementById(currentGrid).innerHTML = solution[i][j];\r\n\t\t\t\tdocument.getElementById(currentGrid).style.fontWeight = \"bold\";\r\n\t\t\t} else {\r\n\t\t\t\tpuzzle[i][j] = 0;\r\n\t\t\t\tvar guess = document.createElement(\"input\");\r\n\t\t\t\tguess.setAttribute(\"id\", \"guess\" + i + j);\r\n\t\t\t//\tguess.setAttribute(\"type\", \"number\");\r\n\t\t\t\tguess.setAttribute(\"maxlength\", \"1\");\r\n\t\t\t//\tguess.setAttribute(\"onfocus\", \"this.value=''\");\r\n\t\t\t\tguess.setAttribute('onFocus', 'onFocusFunction(this.id)');\r\n\t\t\t\tguess.setAttribute('onBlur', 'onBlurFunction(this.id)');\r\n\t\t\t\tguess.setAttribute('onInput', \"onInputFunction(this.id, this.value)\");\r\n\t\t\t\tdocument.getElementById(currentGrid).appendChild(guess);\r\n\t\t\t//\tguesses[i][j] = parseInt(guess, 10);\r\n\t\t\t\tconsole.log(guesses[i][j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nonFocusFunction = function (id) {\r\n\tsocket.emit('focus', id);\r\n}\r\n\r\nsocket.on('focus', function (id) {\r\n\tconsole.log('focus');\r\n\t$(`#${id}`).css({backgroundColor: 'rgba(0, 150, 200, 0.3)'});\r\n})\r\n\r\nonBlurFunction = function (id) {\r\n\tsocket.emit('blur', id);\r\n}\r\n\r\nsocket.on('blur', function (id) {\r\n\tconsole.log('focus');\r\n\t$(`#${id}`).css({backgroundColor: 'transparent'});\r\n})\r\n\r\nonInputFunction = function (id, value) {\r\n\tsocket.emit('input', {id, value});\r\n\tconsole.log('onchangefunction');\r\n}\r\n\r\nsocket.on('input', function (input) {\r\n\tconsole.log(input);\r\n\t$(`#${input.id}`).val(input.value);\r\n})\r\n\r\nfunction fillInGuesses(guesses) {\r\n\tfor (var i = 0; i < 9; i++) {\r\n\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\tif (guesses[i][j]) {\r\n\t\t\t\tconsole.log(guesses[i][j])\r\n\t\t\t\tconsole.log($(`#guess${i}${j}`));\r\n\t\t\t\t\r\n\t\t\t\t$(`#guess${i}${j}`).val(`${guesses[i][j]}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// functions for buttons\r\nvar checkGrid = [];\r\nvar checkLength = 0;\r\n\r\nfunction check() {\r\n\tcheckGrid = []\r\n\tcheckLength = 0;\r\n\tfor (var i = 0; i < 9; i++) {\r\n\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\tvar currentGrid = \"grid\" + i + j;\r\n\t\t\tvar currentGuess = \"guess\" + i + j;\r\n\t\t\tif (puzzle[i][j] == 0) {\r\n\t\t\t\tvar g = parseInt(document.getElementById(currentGuess).value, 10);\r\n\t\t\t\tif (g >= 1 && g <= 9) {\r\n\t\t\t\t\tguesses[i][j] = g;\r\n\t\t\t\t\tif (guesses[i][j] != solution[i][j]) {\r\n\t\t\t\t\t\tcheckGrid.push(currentGrid);\t\r\n\t\t\t\t\t\tdocument.getElementById(checkGrid[checkLength]).className += \" red\";\r\n\t\t\t\t\t\ttransparentRed(checkLength);\r\n\t\t\t\t\t\tcheckLength++;\r\n\t\t\t\t\t} else if (guesses[i][j] == solution[i][j]) {\r\n\t\t\t\t\t\tcheckGrid.push(currentGrid);\r\n\t\t\t\t\t\tdocument.getElementById(checkGrid[checkLength]).className += \" green\";\r\n\t\t\t\t\t\ttransparentGreen(checkLength);\r\n\t\t\t\t\t\tcheckLength++;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (document.getElementById(currentGuess).value != \"\") {\r\n\t\t\t\t\tcheckGrid.push(currentGrid);\t\r\n\t\t\t\t\tdocument.getElementById(checkGrid[checkLength]).className += \" grey\";\r\n\t\t\t\t\ttransparentGrey(checkLength);\r\n\t\t\t\t\tcheckLength++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction transparentGreen(i) {setTimeout(function() {\r\n\tdocument.getElementById(checkGrid[i]).classList.remove(\"green\");\r\n}, 500);}\r\n\r\nfunction transparentRed(i) {setTimeout(function() {\r\n\tdocument.getElementById(checkGrid[i]).classList.remove(\"red\");\r\n}, 500);}\r\n\r\nfunction transparentGrey(i) {setTimeout(function() {\r\n\tdocument.getElementById(checkGrid[i]).classList.remove(\"grey\");\r\n}, 500);}\r\n\r\n\r\nfunction clearGuesses() {\r\n\tconsole.log(\"clear\");\r\n\tfor (var i = 0; i < 9; i++) {\r\n\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\tvar currentGuess = \"guess\" + i + j;\r\n\t\t\tvar currentGrid = \"grid\" + i + j;\r\n\t\t\tif (puzzle[i][j] == 0) {\r\n\t\t\t\tdocument.getElementById(currentGuess).value = \"\";\r\n\t\t\t\tdocument.getElementById(currentGrid).style.backgroundColor = \"transparent\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar showingSolution = false;\r\n\r\nfunction showSolution() {\r\n\tconsole.log(\"solution\");\r\n\tif (showingSolution == false) {\r\n\t\tfor (var i = 0; i < 9; i++) {\r\n\t\t\tfor (var j = 0; j < 9; j++) {\r\n\t\t\t\tvar currentGuess = \"guess\" + i + j;\r\n\t\t\t\tif (puzzle[i][j] == 0) {\r\n\t\t\t\t\tdocument.getElementById(currentGuess).value = solution[i][j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tshowingSolution = true;\r\n\t} else {\r\n\t\tclearGuesses();\r\n\t\tshowingSolution = false;\r\n\t}\r\n}\r\n\r\n\r\nfunction moveFocus(id) {\r\n\tvar i = id.charAt(4);\r\n\tvar j = id.charAt(5);\r\n\tvar x = event.keyCode;\r\n\r\n\tswitch (x) {\r\n\t\tcase 37:\r\n\t\t\tif (j == 0 && i != 0) {\r\n\t\t\t\tj = 8;\r\n\t\t\t\ti--;\r\n\t\t\t} else if (j != 0) {\r\n\t\t\t\tj--;\r\n\t\t\t}\r\n\t\t\tif (document.getElementById(\"guess\" + i + j) != null) {\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tvar testj = j;\r\n\t\t\t\tfor (; testj >= 0; testj--) {\r\n\t\t\t\t\tif (document.getElementById(\"guess\" + i + testj) != null) {\r\n\t\t\t\t\t\tj = testj;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 38: \r\n\t\t\tif (i != 0) {\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t\tif (document.getElementById(\"guess\" + i + j) != null) {\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tvar testi = i;\r\n\t\t\t\tfor (; testi >= 0; testi--) {\r\n\t\t\t\t\tif (document.getElementById(\"guess\" + testi + j) != null) {\r\n\t\t\t\t\t\ti = testi;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 39: \r\n\t\t\tif (j == 8 && i != 8) {\r\n\t\t\t\tj = 0;\r\n\t\t\t\ti++;\r\n\t\t\t} else if (j != 8) {\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\tif (document.getElementById(\"guess\" + i + j) != null) {\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tvar testj = j;\r\n\t\t\t\tfor (; testj < 9; testj++) {\r\n\t\t\t\t\tif (document.getElementById(\"guess\" + i + testj) != null) {\r\n\t\t\t\t\t\tj = testj;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 40:\r\n\t\t\tif (i != 8) {\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tif (document.getElementById(\"guess\" + i + j) != null) {\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tvar testi = i;\r\n\t\t\t\tfor (; testi < 9; testi++) {\r\n\t\t\t\t\tif (document.getElementById(\"guess\" + testi + j) != null) {\r\n\t\t\t\t\t\ti = testi;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t}\r\n\tdocument.getElementById(\"guess\" + i + j).focus();\r\n}\r\n\r\n// check final solution\r\nfunction checkRow(row) {\r\n\tlet numCount = new Array(10).fill(0);\r\n\tfor (let i = 0; i < 9; i++) {\r\n\t\tlet current;\r\n\t\tlet g;\r\n\t\tif (puzzle[row][i] == 0) {\r\n\t\t\tcurrent = \"guess\" + row + i;\r\n\t\t\tg = parseInt(document.getElementById(current).value, 10);\r\n\t\t} else {\r\n\t\t\tg = solution[row][i];\r\n\t\t}\r\n\t\tnumCount[g] += 1;\r\n\t}\r\n\tfor (let i = 1; i <= 9; i++) {\r\n\t\tif (numCount[i] != 1) {\r\n\t\t\tconsole.log('numcount:' + numCount[i] + ', i: ' + i);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction checkColumn(column) {\r\n\tlet numCount = new Array(10).fill(0);\r\n\tfor (let i = 0; i < 9; i++) {\r\n\t\tlet current;\r\n\t\tlet g;\r\n\t\tif (puzzle[i][column] == 0) {\r\n\t\t\tcurrent = \"guess\" + i + column;\r\n\t\t\tg = parseInt(document.getElementById(current).value, 10);\r\n\t\t} else {\r\n\t\t\tg = solution[i][column];\r\n\t\t}\r\n\t\tnumCount[g] += 1;\r\n\t}\r\n\tfor (let i = 1; i <= 9; i++) {\r\n\t\tif (numCount[i] != 1) {\r\n\t\t\tconsole.log('numcount:' + numCount[i] + ', i: ' + i);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction checkBox(box) {\r\n\tconst boxStartRow = Math.floor(box / 3) * 3;\r\n\tconst boxStartCol = ((box % 3) * 3);\r\n\tlet numCount = new Array(10).fill(0);\r\n\tfor (let i = 0; i < 3; i++) {\r\n\t\tfor (let j = 0; j < 3; j++) {\r\n\t\t\tif (puzzle[(boxStartRow + i)][(boxStartCol + j)] == 0) {\r\n\t\t\t\tcurrent = \"guess\" + (boxStartRow + i) + (boxStartCol + j);\r\n\t\t\t\tg = parseInt(document.getElementById(current).value, 10);\r\n\t\t\t} else {\r\n\t\t\t\tg = solution[(boxStartRow + i)][(boxStartCol + j)];\r\n\t\t\t}\r\n\t\t\tnumCount[g] += 1;\r\n\t\t}\r\n\t}\r\n\tfor (let i = 1; i <= 9; i++) {\r\n\t\tif (numCount[i] != 1) {\r\n\t\t\tconsole.log('numcount:' + numCount[i] + ', i: ' + i);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction checkFinalSolution() {\r\n\tlet check = true;\r\n\tfor (let i = 0; i < 9; i++) {\r\n\t\tif (!checkRow(i) || !checkColumn(i) || !checkBox(i)) {\r\n\t\t\tcheck = false;\r\n\t\t}\r\n\t}\r\n\tif (check) {\r\n\t\tdocument.getElementById('grid').className += \" green\";\r\n\t\tsetTimeout(function() {\r\n\t\t\tdocument.getElementById('grid').classList.remove(\"green\");\r\n\t\t}, 500);\r\n\t} else {\r\n\t\tdocument.getElementById('grid').className += \" red\";\r\n\t\tsetTimeout(function() {\r\n\t\t\tdocument.getElementById('grid').classList.remove(\"red\");\r\n\t\t}, 500);\r\n\t}\r\n}\r\n"]}